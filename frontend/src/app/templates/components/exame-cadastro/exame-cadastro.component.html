<app-breadcrumbs></app-breadcrumbs>

<div class="row mb-3">
  <div class="col-12">
    <form [formGroup]="form" *ngIf="form">
      <mat-card>
        <mat-card-header class="pb-2">
          <div class="mat-card-header-text">
            <div class="row">
              <div class="col px-0">
                <h2 class="m-0 text-center">
                  {{ exame ? exame.nome : "Cadastrar Exame" }}
                </h2>
              </div>
            </div>
          </div>
        </mat-card-header>

        <mat-card-content class="pb-0">
          <div class="row mb-3">
            <div class="col-12">
              <div class="text-end">
                <button
                  mat-icon-button
                  title="Editar"
                  (click)="form.enable()"
                  *ngIf="form.disabled && exame"
                >
                  <mat-icon>edit</mat-icon>
                </button>
                <button
                  mat-icon-button
                  title="Salvar"
                  (click)="submit()"
                  *ngIf="form.enabled"
                >
                  <mat-icon>save</mat-icon>
                </button>
                <button
                  mat-icon-button
                  title="Cancelar"
                  (click)="cancel()"
                  *ngIf="form.enabled"
                >
                  <mat-icon>close</mat-icon>
                </button>
                <button
                  mat-icon-button
                  title="Excluir"
                  (click)="delete()"
                  *ngIf="form.disabled && exame"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-12 col-md-9">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Nome</mat-label>
                <input matInput formControlName="nome" />
                <mat-error *ngIf="hasError('nome')">{{
                  getErrorMessage("nome")
                }}</mat-error>
              </mat-form-field>
            </div>

            <div class="col-12 col-md-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Categoria</mat-label>
                <input matInput formControlName="categoria" />
                <mat-error *ngIf="hasError('categoria')">{{
                  getErrorMessage("categoria")
                }}</mat-error>
              </mat-form-field>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </form>
  </div>
</div>
